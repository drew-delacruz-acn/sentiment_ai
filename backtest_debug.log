2025-04-22 20:39:17,739 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:39:17,739 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, position_size=$10,000.00
2025-04-22 20:39:17,740 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:39:18,669 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:39:18,670 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:39:18,670 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:39:18,670 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:39:18,670 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:39:18,670 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:39:18,670 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:39:18,670 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:39:19,823 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:39:19,839 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:39:19,841 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:39:20,002 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:39:20,025 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:39:20,026 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:39:20,124 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:39:20,126 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:39:20,127 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:39:20,185 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:39:20,185 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:39:20,188 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:20,188 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:20,188 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:20,207 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:20,207 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:20,207 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:20,208 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:20,208 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:20,208 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:20,208 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:20,208 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:20,208 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:20,209 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:20,209 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:20,209 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:21,263 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:21,265 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:21,355 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:21,355 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:21,356 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:21,356 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:21,379 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:21,379 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:21,487 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:21,487 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:21,489 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:21,489 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:21,489 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:21,489 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:21,489 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:21,489 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:21,490 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:21,490 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:21,490 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:21,490 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:21,490 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:21,490 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:22,509 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:22,510 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:22,610 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:22,611 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:22,677 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:22,677 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:22,863 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:22,864 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:22,865 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:39:22,870 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:39:22,870 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone set by Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which was up 4% from a year ago. Additionally, Cook's mention of contributing to relief efforts for the wildfires in Los Angeles and supporting the local community adds a compassionate and proactive element to the call, reflecting a positive outlook for Apple's future."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic as Apple reported strong financial results for Q4 Fiscal Year 2024, with record revenue and growth in key segments such as iPhone and Services. The positive performance indicates the company's resilience and ability to capitalize on market opportunities, suggesting a promising outlook for the future."}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported a new June quarter revenue record, with EPS growing double digits and achieving a record for the quarter. The company also set quarterly revenue records in multiple countries and regions, as well as in services, indicating strong performance and growth. Additionally, the unveiling of game-changing updates at the Worldwide Developers Conference suggests continued innovation and positive outlook for the future.'}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone and the key points highlighted by Tim Cook, such as reporting record revenue of $90.8 billion and an EPS record of $1.53 for the March quarter. Additionally, setting revenue records in multiple countries and regions, achieving an all-time revenue record in services, and mentioning the potential in various markets all contribute to an overall optimistic outlook for Apple's performance."}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic based on the positive financial results reported by Apple for the December quarter. Despite having one less week in the quarter compared to the previous year, Apple achieved revenue of $119.6 billion, up 2% from a year ago, and an all-time record EPS of $2.18, up 16% from a year ago. The CEO, Tim Cook, highlighted revenue records in multiple countries and regions, indicating strong performance.'}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple reported strong revenue of $89.5 billion for the September quarter, achieving all-time revenue records in various countries. iPhone revenue exceeded expectations and set September quarter records in multiple markets. The positive performance and record-breaking results indicate a strong outlook for the company's future."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone and language used by both Saori Casey and Tim Cook. Tim Cook highlighted better-than-expected revenue for the June quarter, strong results in emerging markets, and setting revenue records in various countries. The mention of setting all-time revenue records in Services also contributes to the overall optimistic outlook for Apple's performance."}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone of the speakers, particularly Tim Cook, who highlighted better-than-expected revenue for the March quarter, setting all-time records for Services and iPhone sales. The mention of achieving all-time records in various emerging markets also adds to the optimistic outlook for Apple's performance. The forward-looking statements and risk factors mentioned are standard disclaimers and do not overshadow the positive performance highlights."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic as Apple's CEO, Tim Cook, highlighted the company's achievement of setting all-time revenue records in several markets and quarterly records in others. Despite a challenging environment that led to a 5% year-over-year revenue decline, the focus on record-breaking performances and global market successes suggests a positive outlook for the company's future performance."}]
2025-04-22 20:39:22,890 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:39:22,893 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:39:22,895 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:39:22,895 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:39:22,895 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:39:22,895 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:39:22,896 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:39:22,896 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:39:22,896 - __main__ - ERROR - Error running demo: 'EarningsSentimentStrategy' object has no attribute 'generate_signal'
Traceback (most recent call last):
  File "/Users/andrewdelacruz/sentiment_ai/backend/app/scripts/backtest_demo.py", line 340, in run_demo
    original_generate_signal = strategy.generate_signal
                               ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'EarningsSentimentStrategy' object has no attribute 'generate_signal'
2025-04-22 20:39:22,897 - __main__ - ERROR - Demo failed: 'EarningsSentimentStrategy' object has no attribute 'generate_signal'
Traceback (most recent call last):
  File "/Users/andrewdelacruz/sentiment_ai/backend/app/scripts/backtest_demo.py", line 414, in main
    await run_demo(**params)
  File "/Users/andrewdelacruz/sentiment_ai/backend/app/scripts/backtest_demo.py", line 340, in run_demo
    original_generate_signal = strategy.generate_signal
                               ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'EarningsSentimentStrategy' object has no attribute 'generate_signal'
2025-04-22 20:39:41,958 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:39:41,958 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, position_size=$10,000.00
2025-04-22 20:39:41,958 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:39:42,513 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:39:42,513 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:39:42,513 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:39:42,513 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:39:42,513 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:39:42,513 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:39:42,513 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:39:42,513 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:39:42,957 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:39:43,034 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:39:43,034 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:39:43,135 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:39:43,214 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:39:43,215 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:39:43,311 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:39:43,312 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:39:43,312 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:39:43,350 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:39:43,350 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:39:43,352 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:43,352 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:43,352 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:43,360 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:43,360 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:43,360 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:43,360 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:43,360 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:43,360 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:43,360 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:43,361 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:43,361 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:43,361 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:43,361 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:43,361 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:44,553 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:44,554 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:44,655 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:44,656 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:44,667 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:44,667 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:44,674 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:44,675 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:44,684 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:44,684 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:44,685 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:44,685 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:44,685 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:44,685 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:44,685 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:44,685 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:44,686 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:44,686 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:44,686 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:44,686 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:39:44,686 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:39:44,686 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:39:45,633 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:45,633 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:45,662 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:45,663 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:45,832 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:45,833 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:46,121 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:39:46,121 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:39:46,122 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:39:46,126 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:39:46,126 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone set by Apple CEO Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which was up 4% from a year ago. Additionally, Cook's mention of contributing to relief efforts for the wildfires in Los Angeles and supporting the local community adds a compassionate and proactive element to the overall sentiment of the call."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results shared by Apple's CEO, Tim Cook. The company reported a record revenue of $94.9 billion for the quarter, with growth in iPhone sales across all geographic segments and a significant increase in Services revenue. These strong performance indicators suggest a positive outlook for Apple's future business prospects."}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Apple's CEO, Tim Cook. Apple reported a new revenue record for the June quarter, exceeding expectations, with double-digit EPS growth. Additionally, setting quarterly revenue records in multiple countries and regions, along with strong performance in services and the unveiling of game-changing updates at the Worldwide Developers Conference, all contribute to the optimistic outlook portrayed in the call."}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive financial results shared by Apple's CEO, Tim Cook. The company reported record revenue and EPS for the March quarter, setting revenue records in multiple countries and regions. Additionally, there was growth in services revenue, indicating strong performance across different segments. The overall tone of the call suggests confidence in Apple's continued success and potential for growth."}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic based on the positive financial results reported by Apple for the December quarter. Despite having one less week in the quarter compared to the previous year, Apple achieved revenue of $119.6 billion, up 2% from a year ago, and an all-time record EPS of $2.18, up 16% from a year ago. The mention of revenue records across multiple countries and regions further supports the optimistic outlook.'}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple's CEO, Tim Cook, highlighted the company's strong performance with record revenue in the September quarter, particularly in key markets like India and China. The mention of setting records in various countries and exceeding expectations on iPhone revenue indicates a positive outlook for Apple's financial performance."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported revenue of $81.8 billion for the June quarter, exceeding expectations. The CEO highlighted strong results in emerging markets and record revenue in various countries, as well as an all-time revenue record in Services. These positive financial results and growth indicators contribute to an optimistic outlook for the company.'}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone of the speakers and the strong financial performance highlighted in the transcript. Apple's CEO, Tim Cook, mentioned that they reported revenue of $94.8 billion for the March quarter, setting all-time records for Services and achieving strong performance in emerging markets. The mention of setting records in various regions and product categories indicates a positive outlook for the company."}, {'date': '2023-02-02', 'sentiment': 'neutral', 'summary': 'The sentiment of the call is neutral. While Apple reported setting all-time revenue records in several markets and highlighted positive achievements, such as revenue of $117.2 billion for the December quarter, the mention of revenue being down 5% year-over-year and the cautious tone regarding risks and uncertainties, including the potential impact of COVID-19, contribute to an overall neutral sentiment.'}]
2025-04-22 20:39:46,147 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:39:46,148 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:39:46,149 - __main__ - INFO - Sentiment distribution: {'optimistic': 8, 'neutral': 1}
2025-04-22 20:39:46,149 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:39:46,149 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:39:46,149 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:39:46,150 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:39:46,150 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:39:46,150 - __main__ - INFO - Starting backtest execution
2025-04-22 20:39:46,150 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:39:46,150 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:39:46,150 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2025-01-30 to 2023-02-02
2025-04-22 20:39:46,151 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,151 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,151 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,151 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,151 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,151 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,151 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,152 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:39:46,152 - __main__ - INFO - Signal generated for 2023-02-02: 0 - Price: $N/A, Sentiment: neutral, Cash: $100,000.00
2025-04-22 20:39:46,152 - backend.app.core.backtest.engine - INFO - Generated 8 buy signals
2025-04-22 20:39:46,159 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The overall sentiment of the call is optimisti...
2023-05-04  optimistic  The overall sentiment of the call is optimisti...
2023-02-02     neutral  The sentiment of the call is neutral. While Ap...
2025-04-22 20:39:46,159 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:39:46,160 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:39:46,160 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:39:46,162 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2025-04-22 20:39:46,163 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:39:46,163 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:39:46,163 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:39:46,163 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 42.14 shares × $237.33 = $10000.00
2025-04-22 20:39:46,163 - backend.app.core.backtest.portfolio - INFO - Cash: $90000.00
2025-04-22 20:39:46,163 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:39:46,163 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:39:46,164 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:39:46,164 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:39:46,164 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:39:46,164 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 86.50 shares × $225.41 = $19497.95
2025-04-22 20:39:46,164 - backend.app.core.backtest.portfolio - INFO - Cash: $80000.00
2025-04-22 20:39:46,164 - backend.app.core.backtest.portfolio - INFO - Position Value: $19497.95
2025-04-22 20:39:46,164 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $99497.95
2025-04-22 20:39:46,165 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:39:46,165 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 132.45 shares × $217.63 = $28824.53
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Cash: $70000.00
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Position Value: $28824.53
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $98824.53
2025-04-22 20:39:46,165 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:39:46,165 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 190.51 shares × $172.22 = $32809.82
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Cash: $60000.00
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Position Value: $32809.82
2025-04-22 20:39:46,165 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $92809.82
2025-04-22 20:39:46,166 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:39:46,166 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 244.35 shares × $185.74 = $45387.11
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Cash: $50000.00
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Position Value: $45387.11
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $95387.11
2025-04-22 20:39:46,166 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:39:46,166 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 301.08 shares × $176.28 = $53073.87
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Cash: $40000.00
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Position Value: $53073.87
2025-04-22 20:39:46,166 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $93073.87
2025-04-22 20:39:46,167 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:39:46,167 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 353.84 shares × $189.52 = $67061.72
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Cash: $30000.00
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Position Value: $67061.72
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $97061.72
2025-04-22 20:39:46,167 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:39:46,167 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 414.77 shares × $164.13 = $68078.17
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Cash: $20000.00
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Position Value: $68078.17
2025-04-22 20:39:46,167 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $88078.17
2025-04-22 20:39:46,168 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:39:46,168 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:39:46,168 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 414.77 shares × $149.09 = $61836.66
2025-04-22 20:39:46,168 - backend.app.core.backtest.portfolio - INFO - Cash: $20000.00
2025-04-22 20:39:46,168 - backend.app.core.backtest.portfolio - INFO - Position Value: $61836.66
2025-04-22 20:39:46,168 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $81836.66
2025-04-22 20:39:46,168 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:39:46,169 - backend.app.core.backtest.engine - INFO - Total Return: -18.16%
2025-04-22 20:39:46,169 - backend.app.core.backtest.engine - INFO - Number of Trades: 8
2025-04-22 20:39:46,171 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:39:46,171 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': -0.18163339457250582, 'sharpe_ratio': -7.382229669783829, 'sortino_ratio': -9.046484306832921, 'max_drawdown': 0.1816333945725055, 'number_of_trades': 8}
2025-04-22 20:39:46,171 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:39:46,171 - __main__ - INFO - Total Return: -18.16%
2025-04-22 20:39:46,171 - __main__ - INFO - Sharpe Ratio: -7.38
2025-04-22 20:39:46,171 - __main__ - INFO - Sortino Ratio: -9.05
2025-04-22 20:39:46,172 - __main__ - INFO - Maximum Drawdown: 18.16%
2025-04-22 20:39:46,172 - __main__ - INFO - Number of Trades: 8
2025-04-22 20:39:46,172 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:39:46,172 - __main__ - INFO - First Trade Date: 2023-05-04
2025-04-22 20:39:46,172 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:39:46,172 - __main__ - INFO - Average Trade Size: $10,163.61
2025-04-22 20:39:46,172 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #1: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #2: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #3: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.94985242774674 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #4: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06634019117343 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.8373000580877 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #6: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.728571581907936 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #7: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.764003381804194 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Trade #8: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.925556028437626 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:39:46,173 - __main__ - INFO - 
Final portfolio value from trade analysis: $20000.00
2025-04-22 20:39:46,173 - __main__ - INFO - Final portfolio value from results: $81836.66
2025-04-22 20:39:46,174 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:39:46,174 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:39:46,174 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:39:46,174 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:39:47,801 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:39:47,803 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:39:47,803 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:39:47,803 - __main__ - INFO - Strategy Return: -18.16%
2025-04-22 20:39:47,804 - __main__ - INFO - Outperformance: -79.72%
2025-04-22 20:39:47,804 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:39:47,804 - __main__ - INFO - Buy & Hold Final: $161,559.45
2025-04-22 20:39:47,804 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:40:21,281 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:40:21,281 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, position_size=$10,000.00
2025-04-22 20:40:21,281 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:40:21,967 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:40:21,967 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:40:21,967 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:40:21,967 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:40:21,967 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:40:21,967 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:40:21,967 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:40:21,967 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:40:22,303 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:40:22,456 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:40:22,457 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:40:22,561 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:40:22,638 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:40:22,638 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:40:22,734 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:40:22,734 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:40:22,734 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:40:22,773 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:40:22,773 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:40:22,775 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:22,775 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:22,775 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:22,782 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:22,782 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:22,782 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:22,783 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:23,855 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:23,857 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:23,901 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:23,901 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:23,986 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:23,986 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:24,161 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:24,161 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:25,845 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:25,845 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:25,846 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:25,846 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:25,846 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:40:25,847 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:40:26,896 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:26,896 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:26,910 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:26,910 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:27,091 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:27,092 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:27,147 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:40:27,147 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:40:27,147 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:40:27,151 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:40:27,151 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic as Apple CEO, Tim Cook, highlighted the company's record revenue of $124.3 billion for the December quarter, which was up 4% from a year ago. Additionally, Cook expressed support for the Los Angeles community affected by wildfires, showcasing Apple's commitment to social responsibility and community support."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic as Apple reported strong financial performance in Q4 Fiscal Year 2024, with record revenue of $94.9 billion, driven by growth in iPhone sales across all geographic segments and record revenue in Services. The positive performance and revenue growth indicate a strong business outlook for Apple, contributing to the optimistic sentiment of the call.'}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic as Apple reported a new revenue record for the June quarter, exceeding expectations. The CEO highlighted the growth in EPS, setting quarterly revenue records in multiple countries, and achieving an all-time revenue record in services. Additionally, the unveiling of game-changing updates at the Worldwide Developers Conference was mentioned as a positive development.'}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Apple's CEO, Tim Cook. Apple reported strong revenue of $90.8 billion and an EPS record of $1.53 for the March quarter, setting revenue records in multiple countries and regions. Additionally, they achieved an all-time revenue record in services, indicating growth and potential in various markets."}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results shared by Apple's CEO, Tim Cook. Despite having one less week in the quarter compared to the previous year, Apple reported revenue growth of 2% and an all-time record EPS of $2.18. Tim Cook highlighted revenue records achieved in multiple countries and regions, indicating strong performance."}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple's CEO, Tim Cook, highlighted the company's strong performance with record revenue in the September quarter, particularly noting all-time revenue records in India and September quarter records in various countries. The positive performance in iPhone revenue exceeding expectations and setting records in multiple markets also contributes to the optimistic sentiment."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported revenue of $81.8 billion for the June quarter, which exceeded expectations. The CEO, Tim Cook, highlighted strong results in emerging markets and record revenue in various countries, as well as an all-time revenue record in Services. This positive performance and growth outlook contribute to the optimistic sentiment of the call.'}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple's CEO, Tim Cook, highlighted the company's strong performance in the March quarter, reporting better-than-expected revenue, setting all-time records for Services and iPhone sales. He also mentioned achieving all-time records in various emerging markets, indicating positive growth and market penetration for Apple. The forward-looking statements and the tone of the call suggest confidence in the company's future outlook."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone of the speakers and the key points highlighted in the transcript. Despite a slight decline in revenue year-over-year, Apple set all-time revenue records in several markets and achieved quarterly records in others. The mention of setting records and strong performance in various markets indicates a positive outlook for the company's future growth."}]
2025-04-22 20:40:27,165 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:40:27,166 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:40:27,167 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:40:27,167 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:40:27,167 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:40:27,167 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:40:27,167 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:40:27,168 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:40:27,168 - __main__ - INFO - Starting backtest execution
2025-04-22 20:40:27,168 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:40:27,168 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:40:27,168 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - __main__ - INFO - Signal generated for 2023-02-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:40:27,169 - backend.app.core.backtest.engine - INFO - Generated 9 buy signals
2025-04-22 20:40:27,175 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic as App...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The overall sentiment of the call is optimisti...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The overall sentiment of the call is optimisti...
2023-05-04  optimistic  The overall sentiment of the call is optimisti...
2023-02-02  optimistic  The sentiment of the call is optimistic based ...
2025-04-22 20:40:27,175 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:40:27,175 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:40:27,175 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:40:27,177 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic as App...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The overall sentiment of the call is optimisti...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2025-04-22 20:40:27,177 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:40:27,177 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:40:27,178 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 67.08, Price: $149.09
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 67.08 shares × $149.09 = $10000.00
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Cash: $90000.00
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:40:27,178 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:40:27,178 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 128.00 shares × $164.13 = $21009.36
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Cash: $80000.00
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Position Value: $21009.36
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101009.36
2025-04-22 20:40:27,178 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:40:27,178 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 180.76 shares × $189.52 = $34259.09
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Cash: $70000.00
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Position Value: $34259.09
2025-04-22 20:40:27,178 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104259.09
2025-04-22 20:40:27,179 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:40:27,179 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 237.49 shares × $176.28 = $41864.84
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Cash: $60000.00
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Position Value: $41864.84
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101864.84
2025-04-22 20:40:27,179 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:40:27,179 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 291.33 shares × $185.74 = $54113.14
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Cash: $50000.00
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Position Value: $54113.14
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104113.14
2025-04-22 20:40:27,179 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:40:27,179 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 349.40 shares × $172.22 = $60172.03
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Cash: $40000.00
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Position Value: $60172.03
2025-04-22 20:40:27,179 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100172.03
2025-04-22 20:40:27,180 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:40:27,180 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 395.35 shares × $217.63 = $86038.74
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Cash: $30000.00
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Position Value: $86038.74
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $116038.74
2025-04-22 20:40:27,180 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:40:27,180 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 439.71 shares × $225.41 = $99116.65
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Cash: $20000.00
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Position Value: $99116.65
2025-04-22 20:40:27,180 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $119116.65
2025-04-22 20:40:27,181 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:40:27,181 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:40:27,181 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:40:27,181 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 481.85 shares × $237.33 = $114355.86
2025-04-22 20:40:27,181 - backend.app.core.backtest.portfolio - INFO - Cash: $10000.00
2025-04-22 20:40:27,181 - backend.app.core.backtest.portfolio - INFO - Position Value: $114355.86
2025-04-22 20:40:27,181 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $124355.86
2025-04-22 20:40:27,181 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:40:27,185 - backend.app.core.backtest.engine - INFO - Total Return: 24.36%
2025-04-22 20:40:27,185 - backend.app.core.backtest.engine - INFO - Number of Trades: 9
2025-04-22 20:40:27,188 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:40:27,188 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 0.243558615511007, 'sharpe_ratio': 7.266158703755235, 'sortino_ratio': 21.43120930436514, 'max_drawdown': 0.03920101992282932, 'number_of_trades': 9}
2025-04-22 20:40:27,188 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:40:27,188 - __main__ - INFO - Total Return: 24.36%
2025-04-22 20:40:27,188 - __main__ - INFO - Sharpe Ratio: 7.27
2025-04-22 20:40:27,188 - __main__ - INFO - Sortino Ratio: 21.43
2025-04-22 20:40:27,188 - __main__ - INFO - Maximum Drawdown: 3.92%
2025-04-22 20:40:27,188 - __main__ - INFO - Number of Trades: 9
2025-04-22 20:40:27,189 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:40:27,189 - __main__ - INFO - First Trade Date: 2023-02-02
2025-04-22 20:40:27,189 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:40:27,189 - __main__ - INFO - Average Trade Size: $10,216.04
2025-04-22 20:40:27,189 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #1: 2023-02-02 - ENTRY - Price: $149.09 - Qty: 67.07511909784293 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #2: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.92556169238374 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #3: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.76401187802155 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #4: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.7285666714304 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.837304480779224 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #6: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06633504636819 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #7: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.94985242774674 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #8: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Trade #9: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $10000.00
2025-04-22 20:40:27,189 - __main__ - INFO - 
Final portfolio value from trade analysis: $10000.00
2025-04-22 20:40:27,189 - __main__ - INFO - Final portfolio value from results: $124355.86
2025-04-22 20:40:27,189 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:40:27,190 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:40:27,190 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:40:27,190 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:40:28,891 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:40:28,892 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:40:28,892 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:40:28,892 - __main__ - INFO - Strategy Return: 24.36%
2025-04-22 20:40:28,892 - __main__ - INFO - Outperformance: -37.20%
2025-04-22 20:40:28,892 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:40:28,892 - __main__ - INFO - Buy & Hold Final: $161,559.45
2025-04-22 20:40:28,892 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:41:35,923 - __main__ - ERROR - Demo failed: run_demo() got an unexpected keyword argument 'unlimited_capital'
Traceback (most recent call last):
  File "/Users/andrewdelacruz/sentiment_ai/backend/app/scripts/backtest_demo.py", line 425, in main
    await run_demo(**params)
          ^^^^^^^^^^^^^^^^^^
TypeError: run_demo() got an unexpected keyword argument 'unlimited_capital'
2025-04-22 20:44:41,730 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:44:41,730 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$0.00, position_size=$10,000.00, unlimited_capital=True
2025-04-22 20:44:41,730 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:44:42,408 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:44:42,409 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:44:42,409 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:44:42,409 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:44:42,409 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:44:42,409 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:44:42,409 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:44:42,409 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:44:42,876 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:44:42,953 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:44:42,953 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:44:43,067 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:44:43,145 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:44:43,145 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:44:43,242 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:44:43,243 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:44:43,243 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:44:43,380 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:44:43,380 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:44:43,382 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:43,382 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:43,382 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:43,397 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:43,398 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:43,399 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:43,399 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:44,610 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:44,610 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:44,612 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:44,612 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:44,743 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:44,745 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:44,779 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:44,779 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:48,964 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:48,966 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:48,970 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:48,970 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:48,970 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:48,991 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:48,991 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:48,991 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:48,992 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:48,992 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:48,992 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:48,992 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:44:48,993 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:44:48,993 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:44:49,914 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:49,914 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:50,057 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:50,058 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:50,128 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:50,128 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:50,283 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:44:50,284 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:44:50,285 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:44:50,311 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:44:50,311 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone set by Apple CEO Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which was up 4% from the previous year. Additionally, Cook's mention of contributing to relief efforts for the wildfires in Los Angeles and continued support for the local community adds a compassionate and positive aspect to the call."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results reported by Apple for the Q4 Fiscal Year 2024. The revenue of $94.9 billion, growth in iPhone sales across all geographic segments, and setting all-time revenue records for Services indicate a strong performance. Additionally, the forward-looking statements and mention of non-GAAP financial measures suggest confidence in the company's future outlook."}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported a new June quarter revenue record, surpassing expectations with revenue up 5% from the previous year. The company also achieved a double-digit growth in EPS and set quarterly revenue records in multiple countries and regions. Additionally, the unveiling of game-changing updates at the Worldwide Developers Conference, including Apple Intelligence, indicates a positive outlook for the future.'}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook, such as reporting record revenue of $90.8 billion and an EPS record of $1.53 for the March quarter. Additionally, setting revenue records in multiple countries and regions, achieving an all-time revenue record in services, and mentioning the potential in various markets all contribute to an optimistic outlook for Apple's performance."}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive financial results shared by Apple's CEO, Tim Cook. Despite having one less week in the quarter compared to the previous year, Apple reported revenue growth of 2% and an all-time record EPS of $2.18. Tim Cook also highlighted revenue records achieved in multiple countries and regions, indicating strong performance."}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic based on the positive tone of the speakers and the key points highlighted in the transcript. Apple reported a record revenue of $89.5 billion for the September quarter, achieving all-time revenue records in various countries. The CEO, Tim Cook, mentioned strong performance in iPhone revenue and highlighted record-breaking achievements in multiple markets, indicating a successful quarter for the company.'}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported revenue of $81.8 billion for the June quarter, which exceeded expectations. The CEO highlighted strong results in emerging markets and record revenue in various countries, as well as an all-time revenue record in Services. These positive results indicate a strong performance and growth potential for the company.'}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone of the speakers and the key points highlighted in the transcript. Apple reported revenue exceeding expectations, set all-time records for Services and iPhone sales, and achieved strong performance in emerging markets. The mention of setting records in various countries and regions further supports the optimistic outlook for the company's performance."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic as Apple's CEO, Tim Cook, highlighted the company's all-time revenue records in several markets and quarterly records in others. Despite a 5% year-over-year revenue decline, the emphasis on record-breaking performances and market expansion suggests a positive outlook for Apple's future growth and success."}]
2025-04-22 20:44:50,360 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:44:50,362 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:44:50,363 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:44:50,364 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:44:50,364 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:44:50,364 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:44:50,364 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: True
2025-04-22 20:44:50,364 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:44:50,364 - __main__ - INFO - Starting backtest execution
2025-04-22 20:44:50,364 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:44:50,364 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:44:50,364 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,366 - __main__ - INFO - Signal generated for 2023-02-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:44:50,367 - backend.app.core.backtest.engine - INFO - Generated 9 buy signals
2025-04-22 20:44:50,380 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The sentiment of the call is optimistic based ...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The overall sentiment of the call is optimisti...
2023-05-04  optimistic  The sentiment of the call is optimistic based ...
2023-02-02  optimistic  The sentiment of the call is optimistic as App...
2025-04-22 20:44:50,380 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:44:50,380 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:44:50,380 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:44:50,381 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The sentiment of the call is optimistic based ...
2025-04-22 20:44:50,381 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:44:50,383 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:44:50,384 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 67.08, Price: $149.09
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 67.08 shares × $149.09 = $10000.00
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $10000.00
2025-04-22 20:44:50,384 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:44:50,384 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 128.00 shares × $164.13 = $21009.35
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Position Value: $21009.35
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $21009.35
2025-04-22 20:44:50,384 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:44:50,384 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 180.76 shares × $189.52 = $34259.09
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Position Value: $34259.09
2025-04-22 20:44:50,384 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $34259.09
2025-04-22 20:44:50,385 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:44:50,385 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 237.49 shares × $176.28 = $41864.84
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - Position Value: $41864.84
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $41864.84
2025-04-22 20:44:50,385 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:44:50,385 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 291.33 shares × $185.74 = $54113.14
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - Position Value: $54113.14
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $54113.14
2025-04-22 20:44:50,385 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:44:50,385 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:44:50,385 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 349.40 shares × $172.22 = $60172.02
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - Position Value: $60172.02
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $60172.02
2025-04-22 20:44:50,386 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:44:50,386 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 395.35 shares × $217.63 = $86038.74
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - Position Value: $86038.74
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $86038.74
2025-04-22 20:44:50,386 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:44:50,386 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:44:50,386 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 439.71 shares × $225.41 = $99116.65
2025-04-22 20:44:50,387 - backend.app.core.backtest.portfolio - INFO - Position Value: $99116.65
2025-04-22 20:44:50,387 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $99116.65
2025-04-22 20:44:50,388 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:44:50,388 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:44:50,388 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:44:50,388 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 481.85 shares × $237.33 = $114355.86
2025-04-22 20:44:50,388 - backend.app.core.backtest.portfolio - INFO - Position Value: $114355.86
2025-04-22 20:44:50,388 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $114355.86
2025-04-22 20:44:50,388 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:44:50,392 - backend.app.core.backtest.engine - INFO - Using first non-zero value ($10000.00) as base for return calculation
2025-04-22 20:44:50,396 - backend.app.core.backtest.engine - INFO - Total Return: 1043.56%
2025-04-22 20:44:50,396 - backend.app.core.backtest.engine - INFO - Number of Trades: 9
2025-04-22 20:44:50,400 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:44:50,400 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 10.43558559401365, 'sharpe_ratio': 16.041971778269616, 'sortino_ratio': nan, 'max_drawdown': 0.0, 'number_of_trades': 9}
2025-04-22 20:44:50,400 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:44:50,400 - __main__ - INFO - Total Return: 1043.56%
2025-04-22 20:44:50,400 - __main__ - INFO - Sharpe Ratio: 16.04
2025-04-22 20:44:50,400 - __main__ - INFO - Sortino Ratio: nan
2025-04-22 20:44:50,400 - __main__ - INFO - Maximum Drawdown: 0.00%
2025-04-22 20:44:50,400 - __main__ - INFO - Number of Trades: 9
2025-04-22 20:44:50,400 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:44:50,400 - __main__ - INFO - First Trade Date: 2023-02-02
2025-04-22 20:44:50,400 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:44:50,400 - __main__ - INFO - Average Trade Size: $10,216.04
2025-04-22 20:44:50,400 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #1: 2023-02-02 - ENTRY - Price: $149.09 - Qty: 67.07510536776883 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #2: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.925556028437626 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #3: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.76400762991253 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #4: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.7285666714304 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.837304480779224 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #6: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06633504636819 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #7: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.94985242774674 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #8: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Trade #9: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $10000.00
2025-04-22 20:44:50,401 - __main__ - INFO - 
Final portfolio value from trade analysis: $10000.00
2025-04-22 20:44:50,401 - __main__ - INFO - Final portfolio value from results: $114355.86
2025-04-22 20:44:50,401 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:44:50,401 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:44:50,401 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:44:50,401 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:44:52,731 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:44:52,732 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:44:52,732 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:44:52,732 - __main__ - INFO - Strategy Return: 1043.56%
2025-04-22 20:44:52,732 - __main__ - INFO - Outperformance: 982.00%
2025-04-22 20:44:52,732 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:44:52,732 - __main__ - INFO - Buy & Hold Final: $161,559.42
2025-04-22 20:44:52,732 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:45:25,546 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:45:25,546 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$0.00, position_size=$10,000.00, unlimited_capital=True
2025-04-22 20:45:25,546 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:45:26,487 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:45:26,489 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:45:26,490 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:45:26,490 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:45:26,490 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:45:26,490 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:45:26,490 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:45:26,491 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:45:26,925 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:45:27,001 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:45:27,002 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:45:27,103 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:45:27,181 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:45:27,182 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:45:27,282 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:45:27,285 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:45:27,285 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:45:27,335 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:45:27,335 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:45:27,340 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:27,340 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:27,341 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:27,356 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:27,356 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:27,356 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:27,357 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:28,329 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:28,331 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:28,331 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:28,332 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:28,391 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:28,392 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:28,500 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:28,500 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:29,459 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:29,460 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:29,463 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:29,464 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:29,464 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:29,466 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:29,466 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:29,466 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:29,467 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:29,467 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:29,467 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:29,468 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:45:29,468 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:45:29,468 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:45:30,478 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:30,478 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:30,587 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:30,587 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:30,597 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:30,597 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:30,639 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:45:30,639 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:45:30,640 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:45:30,644 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:45:30,644 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone set by Apple CEO Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which was up 4% from a year ago. Additionally, Cook's mention of contributing to relief efforts for the wildfires in Los Angeles and supporting the local community reflects a positive outlook and commitment to social responsibility."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results shared by Apple CEO Tim Cook. The company reported a record revenue of $94.9 billion for the quarter, with growth in iPhone sales across all geographic segments and a significant increase in Services revenue. These strong performance indicators suggest a positive outlook for Apple's future business prospects."}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Apple's CEO, Tim Cook. Apple reported a new revenue record for the June quarter, exceeding expectations with growth in EPS and setting records in various countries and regions. Additionally, the company achieved an all-time revenue record in services and unveiled game-changing updates at the Worldwide Developers Conference."}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': 'The sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook. Apple reported strong revenue of $90.8 billion and an EPS record of $1.53 for the March quarter, setting revenue records in multiple countries and regions. Additionally, they achieved an all-time revenue record in services, showing growth and potential in various markets.'}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic based on the positive financial results reported by Apple for the December quarter. Despite having one less week in the quarter compared to the previous year, Apple achieved a revenue of $119.6 billion, up 2% from a year ago, and an all-time record EPS of $2.18, up 16% from a year ago. The CEO, Tim Cook, highlighted revenue records in multiple countries and regions, indicating strong performance and growth potential.'}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple CEO, Tim Cook, highlighted the company's record revenue of $89.5 billion for the September quarter, with strong performance in various markets including India and China. The positive tone and mention of setting records indicate a strong performance and outlook for the company."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple reported revenue of $81.8 billion for the June quarter, which exceeded expectations. The CEO highlighted strong results in emerging markets and record revenue in various countries, as well as an all-time revenue record in Services. The positive financial performance and growth in key markets indicate optimism about Apple's future prospects."}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and language used by Tim Cook in the introductory remarks. He highlighted that Apple reported revenue of $94.8 billion for the March quarter, which exceeded expectations, set all-time records for Services and iPhone sales, and achieved strong performance in emerging markets. The mention of setting records in various countries and product categories indicates a positive outlook for the company's performance."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic as Apple's CEO, Tim Cook, highlighted the company's achievement of setting all-time revenue records in several markets and quarterly records in others. Despite a challenging environment leading to a 5% year-over-year revenue decline, the focus on record-breaking performances and global market successes suggests a positive outlook for Apple's future performance."}]
2025-04-22 20:45:30,659 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:45:30,661 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:45:30,662 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:45:30,663 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:45:30,663 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:45:30,663 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:45:30,663 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: True
2025-04-22 20:45:30,663 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:45:30,663 - __main__ - INFO - Starting backtest execution
2025-04-22 20:45:30,663 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:45:30,663 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:45:30,663 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:45:30,664 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,665 - __main__ - INFO - Signal generated for 2023-02-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $0.00
2025-04-22 20:45:30,666 - backend.app.core.backtest.engine - INFO - Generated 9 buy signals
2025-04-22 20:45:30,672 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The overall sentiment of the call is optimisti...
2023-05-04  optimistic  The overall sentiment of the call is optimisti...
2023-02-02  optimistic  The sentiment of the call is optimistic as App...
2025-04-22 20:45:30,672 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:45:30,672 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:45:30,672 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:45:30,673 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2025-04-22 20:45:30,674 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:45:30,675 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:45:30,675 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 67.08, Price: $149.09
2025-04-22 20:45:30,675 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:45:30,675 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 67.08 shares × $149.09 = $10000.00
2025-04-22 20:45:30,675 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:45:30,675 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $10000.00
2025-04-22 20:45:30,676 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:45:30,676 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 128.00 shares × $164.13 = $21009.36
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - Position Value: $21009.36
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $21009.36
2025-04-22 20:45:30,676 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:45:30,676 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 180.76 shares × $189.52 = $34259.09
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - Position Value: $34259.09
2025-04-22 20:45:30,676 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $34259.09
2025-04-22 20:45:30,677 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:45:30,677 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:45:30,677 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:45:30,677 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 237.49 shares × $176.28 = $41864.84
2025-04-22 20:45:30,677 - backend.app.core.backtest.portfolio - INFO - Position Value: $41864.84
2025-04-22 20:45:30,677 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $41864.84
2025-04-22 20:45:30,677 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:45:30,678 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 291.33 shares × $185.74 = $54113.14
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - Position Value: $54113.14
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $54113.14
2025-04-22 20:45:30,678 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:45:30,678 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 349.40 shares × $172.22 = $60172.02
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - Position Value: $60172.02
2025-04-22 20:45:30,678 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $60172.02
2025-04-22 20:45:30,679 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:45:30,679 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 395.35 shares × $217.63 = $86038.74
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - Position Value: $86038.74
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $86038.74
2025-04-22 20:45:30,679 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:45:30,679 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 439.71 shares × $225.41 = $99116.65
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - Position Value: $99116.65
2025-04-22 20:45:30,679 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $99116.65
2025-04-22 20:45:30,680 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:45:30,680 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:45:30,680 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:45:30,680 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 481.85 shares × $237.33 = $114355.86
2025-04-22 20:45:30,680 - backend.app.core.backtest.portfolio - INFO - Position Value: $114355.86
2025-04-22 20:45:30,680 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $114355.86
2025-04-22 20:45:30,680 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:45:30,682 - backend.app.core.backtest.engine - INFO - Using first non-zero value ($10000.00) as base for return calculation
2025-04-22 20:45:30,682 - backend.app.core.backtest.engine - INFO - Total Return: 1043.56%
2025-04-22 20:45:30,683 - backend.app.core.backtest.engine - INFO - Number of Trades: 9
2025-04-22 20:45:30,685 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:45:30,685 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 10.435586020688172, 'sharpe_ratio': 16.041970137801336, 'sortino_ratio': nan, 'max_drawdown': 0.0, 'number_of_trades': 9}
2025-04-22 20:45:30,685 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:45:30,685 - __main__ - INFO - Total Return: 1043.56%
2025-04-22 20:45:30,685 - __main__ - INFO - Sharpe Ratio: 16.04
2025-04-22 20:45:30,685 - __main__ - INFO - Sortino Ratio: nan
2025-04-22 20:45:30,685 - __main__ - INFO - Maximum Drawdown: 0.00%
2025-04-22 20:45:30,685 - __main__ - INFO - Number of Trades: 9
2025-04-22 20:45:30,686 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:45:30,686 - __main__ - INFO - First Trade Date: 2023-02-02
2025-04-22 20:45:30,686 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:45:30,686 - __main__ - INFO - Average Trade Size: $10,216.04
2025-04-22 20:45:30,686 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:45:30,686 - __main__ - INFO - Trade #1: 2023-02-02 - ENTRY - Price: $149.09 - Qty: 67.07511909784293 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:45:30,686 - __main__ - INFO - Trade #2: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.925556028437626 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Trade #3: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.76401187802155 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Trade #4: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.7285666714304 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.837304480779224 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Trade #6: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06633504636819 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Trade #7: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.94985242774674 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Trade #8: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Trade #9: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $10000.00
2025-04-22 20:45:30,687 - __main__ - INFO - 
Final portfolio value from trade analysis: $10000.00
2025-04-22 20:45:30,687 - __main__ - INFO - Final portfolio value from results: $114355.86
2025-04-22 20:45:30,687 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:45:30,687 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:45:30,687 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:45:30,687 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:45:33,199 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:45:33,199 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:45:33,199 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:45:33,199 - __main__ - INFO - Strategy Return: 1043.56%
2025-04-22 20:45:33,199 - __main__ - INFO - Outperformance: 982.00%
2025-04-22 20:45:33,199 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:45:33,199 - __main__ - INFO - Buy & Hold Final: $161,559.44
2025-04-22 20:45:33,199 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:53:04,950 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:53:04,950 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, percentage_allocation=10.0%, unlimited_capital=False
2025-04-22 20:53:04,950 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:53:05,360 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:53:05,360 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:53:05,360 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:53:05,360 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:53:05,360 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:53:05,360 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:53:05,360 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:53:05,360 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:53:05,801 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:53:05,880 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:53:05,880 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:53:05,984 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:53:06,061 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:53:06,061 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:53:06,157 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:53:06,158 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:53:06,158 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:53:06,194 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:53:06,194 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:53:06,196 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:06,196 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:06,196 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:06,203 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:07,210 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:07,210 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:07,242 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:07,243 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:07,317 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:07,318 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:07,318 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:07,318 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:07,481 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:07,482 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:07,482 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:07,483 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:07,483 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:07,483 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:07,483 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:07,484 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:07,484 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:07,484 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:07,484 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:07,484 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:07,484 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:07,485 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:08,505 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:08,506 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:08,511 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:08,511 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:08,619 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:08,619 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:08,810 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:08,810 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:08,825 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:53:08,859 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:53:08,859 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone set by Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which was up 4% from the previous year. Additionally, the mention of contributing to relief efforts for the wildfires in Los Angeles and supporting the local community adds a positive and socially responsible aspect to the call."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results reported by Apple for Q4 Fiscal Year 2024. The revenue of $94.9 billion is a September quarter record, with growth in iPhone sales in all geographic segments and all-time high revenue from Services. The upbeat tone of the speakers and the positive outlook for the company's future performance contribute to the optimistic sentiment."}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone of the speakers and the key financial highlights shared. Apple reported a new revenue record for the June quarter, with EPS growth in double digits and setting quarterly revenue records in multiple countries. Additionally, the mention of game-changing updates at the Worldwide Developers Conference indicates a strong outlook for the company's future performance."}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook, such as reporting record revenue of $90.8 billion and an EPS record of $1.53 for the March quarter. Additionally, setting revenue records in multiple countries and regions, achieving an all-time revenue record in services, and mentioning the potential in various markets all contribute to an optimistic outlook for Apple's performance."}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': 'The sentiment of the call is optimistic based on the positive financial results reported by Apple for the December quarter, with revenue up 2% despite having one less week in the quarter. The CEO, Tim Cook, highlighted the all-time record EPS and revenue achievements across multiple countries and regions, indicating strong performance and growth for the company. The forward-looking statements also suggest confidence in the future business outlook.'}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Apple's CEO, Tim Cook. Apple reported a record revenue of $89.5 billion for the September quarter, achieving all-time revenue records in various countries and setting quarterly records in iPhone revenue. The mention of strong performance in multiple markets and record-breaking achievements indicates a positive outlook for the company's financial performance."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported revenue of $81.8 billion for the June quarter, which exceeded expectations. The CEO, Tim Cook, highlighted strong results in emerging markets and record revenue in various countries, as well as setting an all-time revenue record in Services. These positive results and achievements indicate a strong performance and outlook for the company.'}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone and language used by Tim Cook in his introductory remarks. He highlighted that Apple exceeded revenue expectations, set all-time records for Services and iPhone sales, and achieved strong performance in emerging markets. The mention of setting records in various countries further supports the optimistic outlook for Apple's Q2 Fiscal Year 2023 performance."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the CEO, Tim Cook's remarks highlighting the achievement of setting all-time revenue records in several markets and quarterly records in others. Despite a slight decline in revenue year-over-year, the focus on record-breaking performances in various regions suggests a positive outlook for Apple's future performance."}]
2025-04-22 20:53:08,874 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:53:08,876 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:53:08,877 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:53:08,878 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:53:08,878 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:53:08,878 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:53:08,878 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:53:08,878 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:53:08,878 - __main__ - INFO - Starting backtest execution
2025-04-22 20:53:08,878 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:53:08,879 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:53:08,879 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,881 - __main__ - INFO - Signal generated for 2023-02-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:08,882 - backend.app.core.backtest.engine - INFO - Generated 9 buy signals
2025-04-22 20:53:08,888 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The sentiment of the call is optimistic based ...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The overall sentiment of the call is optimisti...
2023-05-04  optimistic  The sentiment of the call is optimistic based ...
2023-02-02  optimistic  The sentiment of the call is optimistic based ...
2025-04-22 20:53:08,889 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:53:08,889 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:53:08,889 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:53:08,891 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The sentiment of the call is optimistic based ...
2025-04-22 20:53:08,891 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:53:08,891 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:53:08,892 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 67.08, Price: $149.09
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 67.08 shares × $149.09 = $10000.00
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Cash: $90000.00
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:53:08,892 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:53:08,892 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 128.00 shares × $164.13 = $21009.36
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Cash: $80000.00
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Position Value: $21009.36
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101009.36
2025-04-22 20:53:08,892 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:53:08,892 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:53:08,892 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 180.76 shares × $189.52 = $34259.08
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Cash: $70000.00
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Position Value: $34259.08
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104259.08
2025-04-22 20:53:08,893 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:53:08,893 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 237.49 shares × $176.28 = $41864.84
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Cash: $60000.00
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Position Value: $41864.84
2025-04-22 20:53:08,893 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101864.84
2025-04-22 20:53:08,894 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:53:08,894 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:53:08,894 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:53:08,894 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 291.33 shares × $185.74 = $54113.14
2025-04-22 20:53:08,894 - backend.app.core.backtest.portfolio - INFO - Cash: $50000.00
2025-04-22 20:53:08,894 - backend.app.core.backtest.portfolio - INFO - Position Value: $54113.14
2025-04-22 20:53:08,894 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104113.14
2025-04-22 20:53:08,894 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:53:08,894 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:53:08,894 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:53:08,894 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 349.40 shares × $172.22 = $60172.02
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Cash: $40000.00
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Position Value: $60172.02
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100172.02
2025-04-22 20:53:08,895 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:53:08,895 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 395.35 shares × $217.63 = $86038.74
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Cash: $30000.00
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Position Value: $86038.74
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $116038.74
2025-04-22 20:53:08,895 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:53:08,895 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:53:08,895 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 439.71 shares × $225.41 = $99116.65
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - Cash: $20000.00
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - Position Value: $99116.65
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $119116.65
2025-04-22 20:53:08,896 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:53:08,896 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 481.85 shares × $237.33 = $114355.86
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - Cash: $10000.00
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - Position Value: $114355.86
2025-04-22 20:53:08,896 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $124355.86
2025-04-22 20:53:08,896 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:53:08,897 - backend.app.core.backtest.engine - INFO - Total Return: 24.36%
2025-04-22 20:53:08,897 - backend.app.core.backtest.engine - INFO - Number of Trades: 9
2025-04-22 20:53:08,899 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:53:08,899 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 0.24355857689793226, 'sharpe_ratio': 7.26615329012912, 'sortino_ratio': 21.431186347237897, 'max_drawdown': 0.039201060836900226, 'number_of_trades': 9}
2025-04-22 20:53:08,899 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:53:08,899 - __main__ - INFO - Total Return: 24.36%
2025-04-22 20:53:08,899 - __main__ - INFO - Sharpe Ratio: 7.27
2025-04-22 20:53:08,899 - __main__ - INFO - Sortino Ratio: 21.43
2025-04-22 20:53:08,899 - __main__ - INFO - Maximum Drawdown: 3.92%
2025-04-22 20:53:08,899 - __main__ - INFO - Number of Trades: 9
2025-04-22 20:53:08,899 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:53:08,900 - __main__ - INFO - First Trade Date: 2023-02-02
2025-04-22 20:53:08,900 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:53:08,900 - __main__ - INFO - Average Trade Size: $10,216.04
2025-04-22 20:53:08,900 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #1: 2023-02-02 - ENTRY - Price: $149.09 - Qty: 67.07511223280517 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #2: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.92555036449257 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #3: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.76401187802155 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #4: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.7285666714304 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.837304480779224 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #6: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06634019117343 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #7: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.949849206023124 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:53:08,900 - __main__ - INFO - Trade #8: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:53:08,901 - __main__ - INFO - Trade #9: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $10000.00
2025-04-22 20:53:08,901 - __main__ - INFO - 
Final portfolio value from trade analysis: $10000.00
2025-04-22 20:53:08,901 - __main__ - INFO - Final portfolio value from results: $124355.86
2025-04-22 20:53:08,901 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:53:08,901 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:53:08,901 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:53:08,901 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:53:14,415 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:53:14,418 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:53:14,418 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:53:14,418 - __main__ - INFO - Strategy Return: 24.36%
2025-04-22 20:53:14,418 - __main__ - INFO - Outperformance: -37.20%
2025-04-22 20:53:14,418 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:53:14,418 - __main__ - INFO - Buy & Hold Final: $161,559.44
2025-04-22 20:53:14,418 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:53:18,457 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:53:18,457 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, percentage_allocation=10.0%, unlimited_capital=False
2025-04-22 20:53:18,458 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:53:18,929 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:53:18,929 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:53:18,929 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:53:18,929 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:53:18,930 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:53:18,930 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:53:18,930 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:53:18,930 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:53:19,349 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:53:19,423 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:53:19,423 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:53:19,935 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:53:20,016 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:53:20,017 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:53:20,111 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:53:20,111 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:53:20,111 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:53:20,114 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:53:20,114 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:53:20,114 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:20,114 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:20,114 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:20,124 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:20,124 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:20,124 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:20,124 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:20,124 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:20,124 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:20,125 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:20,125 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:20,125 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:20,125 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:20,125 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:20,125 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:21,205 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:21,206 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:21,206 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:21,207 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:21,207 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:21,207 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:21,325 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:21,325 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:21,340 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:21,340 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:21,341 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:21,341 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:21,341 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:21,342 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:22,320 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:22,320 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:22,348 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:22,348 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:22,543 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:22,543 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:22,588 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:22,588 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:22,589 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:53:22,590 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:53:22,591 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on Apple CEO Tim Cook's remarks highlighting the company's record revenue of $124.3 billion for the December quarter, which represents a 4% increase from the previous year. Additionally, Cook's mention of supporting the community affected by wildfires demonstrates Apple's commitment to social responsibility and positive impact, contributing to the overall optimistic tone of the call."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results shared by Apple CEO Tim Cook. Apple reported a record revenue of $94.9 billion for the quarter, with growth in iPhone sales across all geographic segments and a new revenue record for Services. The upbeat tone and strong performance indicators suggest a positive outlook for the company's future."}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported a new June quarter revenue record, exceeding expectations with double-digit growth in EPS. The company also achieved record revenue in various countries and regions, as well as in services. The unveiling of game-changing updates at the Worldwide Developers Conference further contributed to the positive outlook.'}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook, such as reporting record revenue of $90.8 billion and an EPS record of $1.53 for the March quarter. Additionally, setting revenue records in multiple countries and regions, achieving all-time revenue records in services, and mentioning the potential in markets like Indonesia all contribute to the optimistic outlook for Apple's performance."}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the upbeat tone and the positive financial results shared by Apple's CEO, Tim Cook. Despite the quarter having one less week compared to the previous year, Apple reported revenue growth of 2% and an all-time record EPS of $2.18. Tim Cook highlighted revenue records achieved in multiple countries and regions, indicating strong performance."}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook. Apple reported a record revenue of $89.5 billion for the September quarter, achieving all-time revenue records in various countries. iPhone revenue exceeded expectations and set September quarter records in multiple markets, indicating strong performance and growth potential for the company.'}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple's CEO, Tim Cook, highlighted better-than-expected revenue for the June quarter and strong results in emerging markets. The mention of setting revenue records in various countries and in Services indicates a positive outlook for the company's performance."}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone and remarks made by Tim Cook, highlighting better-than-expected revenue, setting all-time records for Services and iPhone sales, and strong performance in emerging markets. The mention of achieving all-time records in various countries and regions further reinforces the positive outlook for Apple's business."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic as Apple's CEO, Tim Cook, highlighted the company's strong performance in various markets, setting all-time revenue records in several countries. Despite a slight decrease in revenue year-over-year, the overall tone of the call was positive, emphasizing the company's resilience and success in challenging environments."}]
2025-04-22 20:53:22,595 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:53:22,597 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:53:22,597 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:53:22,597 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:53:22,598 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:53:22,598 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:53:22,598 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:53:22,598 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:53:22,598 - __main__ - INFO - Starting backtest execution
2025-04-22 20:53:22,598 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:53:22,598 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:53:22,598 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - __main__ - INFO - Signal generated for 2023-02-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:22,599 - backend.app.core.backtest.engine - INFO - Generated 9 buy signals
2025-04-22 20:53:22,604 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The overall sentiment of the call is optimisti...
2024-02-01  optimistic  The sentiment of the call is optimistic based ...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The overall sentiment of the call is optimisti...
2023-05-04  optimistic  The sentiment of the call is optimistic based ...
2023-02-02  optimistic  The sentiment of the call is optimistic as App...
2025-04-22 20:53:22,604 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:53:22,604 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:53:22,604 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:53:22,606 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The overall sentiment of the call is optimisti...
2024-02-01  optimistic  The sentiment of the call is optimistic based ...
2025-04-22 20:53:22,606 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:53:22,607 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:53:22,607 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 67.08, Price: $149.09
2025-04-22 20:53:22,607 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:53:22,607 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 67.08 shares × $149.09 = $10000.00
2025-04-22 20:53:22,607 - backend.app.core.backtest.portfolio - INFO - Cash: $90000.00
2025-04-22 20:53:22,607 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:53:22,607 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:53:22,608 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:53:22,608 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:53:22,608 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:53:22,608 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 128.00 shares × $164.13 = $21009.36
2025-04-22 20:53:22,608 - backend.app.core.backtest.portfolio - INFO - Cash: $80000.00
2025-04-22 20:53:22,608 - backend.app.core.backtest.portfolio - INFO - Position Value: $21009.36
2025-04-22 20:53:22,608 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101009.36
2025-04-22 20:53:22,609 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:53:22,609 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:53:22,609 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:53:22,609 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 180.76 shares × $189.52 = $34259.09
2025-04-22 20:53:22,609 - backend.app.core.backtest.portfolio - INFO - Cash: $70000.00
2025-04-22 20:53:22,609 - backend.app.core.backtest.portfolio - INFO - Position Value: $34259.09
2025-04-22 20:53:22,609 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104259.09
2025-04-22 20:53:22,609 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:53:22,609 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:53:22,610 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:53:22,610 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 237.49 shares × $176.28 = $41864.84
2025-04-22 20:53:22,610 - backend.app.core.backtest.portfolio - INFO - Cash: $60000.00
2025-04-22 20:53:22,610 - backend.app.core.backtest.portfolio - INFO - Position Value: $41864.84
2025-04-22 20:53:22,610 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101864.84
2025-04-22 20:53:22,610 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:53:22,610 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:53:22,610 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:53:22,610 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 291.33 shares × $185.74 = $54113.14
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - Cash: $50000.00
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - Position Value: $54113.14
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104113.14
2025-04-22 20:53:22,611 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:53:22,611 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 349.40 shares × $172.22 = $60172.02
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - Cash: $40000.00
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - Position Value: $60172.02
2025-04-22 20:53:22,611 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100172.02
2025-04-22 20:53:22,612 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:53:22,612 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 395.35 shares × $217.63 = $86038.75
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Cash: $30000.00
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Position Value: $86038.75
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $116038.75
2025-04-22 20:53:22,612 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:53:22,612 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 439.71 shares × $225.41 = $99116.65
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Cash: $20000.00
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Position Value: $99116.65
2025-04-22 20:53:22,612 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $119116.65
2025-04-22 20:53:22,613 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:53:22,613 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:53:22,613 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:53:22,613 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 481.85 shares × $237.33 = $114355.86
2025-04-22 20:53:22,613 - backend.app.core.backtest.portfolio - INFO - Cash: $10000.00
2025-04-22 20:53:22,613 - backend.app.core.backtest.portfolio - INFO - Position Value: $114355.86
2025-04-22 20:53:22,613 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $124355.86
2025-04-22 20:53:22,613 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:53:22,614 - backend.app.core.backtest.engine - INFO - Total Return: 24.36%
2025-04-22 20:53:22,614 - backend.app.core.backtest.engine - INFO - Number of Trades: 9
2025-04-22 20:53:22,615 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:53:22,615 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 0.24355858728659174, 'sharpe_ratio': 7.266155232070605, 'sortino_ratio': 21.43118503630618, 'max_drawdown': 0.039201052244502876, 'number_of_trades': 9}
2025-04-22 20:53:22,615 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:53:22,615 - __main__ - INFO - Total Return: 24.36%
2025-04-22 20:53:22,615 - __main__ - INFO - Sharpe Ratio: 7.27
2025-04-22 20:53:22,615 - __main__ - INFO - Sortino Ratio: 21.43
2025-04-22 20:53:22,615 - __main__ - INFO - Maximum Drawdown: 3.92%
2025-04-22 20:53:22,615 - __main__ - INFO - Number of Trades: 9
2025-04-22 20:53:22,616 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:53:22,616 - __main__ - INFO - First Trade Date: 2023-02-02
2025-04-22 20:53:22,616 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:53:22,616 - __main__ - INFO - Average Trade Size: $10,216.04
2025-04-22 20:53:22,616 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:53:22,616 - __main__ - INFO - Trade #1: 2023-02-02 - ENTRY - Price: $149.09 - Qty: 67.07511909784293 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #2: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.92556169238374 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #3: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.76400762991253 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #4: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.7285666714304 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.8373000580877 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #6: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06633504636819 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #7: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.949849206023124 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #8: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:53:22,617 - __main__ - INFO - Trade #9: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $10000.00
2025-04-22 20:53:22,617 - __main__ - INFO - 
Final portfolio value from trade analysis: $10000.00
2025-04-22 20:53:22,618 - __main__ - INFO - Final portfolio value from results: $124355.86
2025-04-22 20:53:22,618 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:53:22,618 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:53:22,618 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:53:22,618 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:53:23,579 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:53:23,580 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:53:23,580 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:53:23,580 - __main__ - INFO - Strategy Return: 24.36%
2025-04-22 20:53:23,580 - __main__ - INFO - Outperformance: -37.20%
2025-04-22 20:53:23,580 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:53:23,580 - __main__ - INFO - Buy & Hold Final: $161,559.42
2025-04-22 20:53:23,580 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:53:41,127 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:53:41,127 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, percentage_allocation=10.0%, unlimited_capital=False
2025-04-22 20:53:41,127 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:53:41,499 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:53:41,500 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:53:41,500 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:53:41,500 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:53:41,500 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:53:41,500 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:53:41,500 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:53:41,500 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:53:41,910 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:53:42,001 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:53:42,004 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:53:42,300 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:53:42,304 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:53:42,304 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:53:42,398 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:53:42,399 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:53:42,399 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:53:42,444 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:53:42,444 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:53:42,446 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:42,446 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:42,446 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:42,482 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:42,482 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:42,482 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:42,482 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:42,482 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:42,482 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:42,483 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:42,483 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:42,483 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:42,483 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:42,483 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:42,483 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:43,527 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:43,527 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:43,528 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:43,528 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:43,551 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:43,552 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:43,653 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:43,654 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:43,744 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:43,745 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:43,746 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:43,746 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:43,746 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:43,746 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:43,746 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:43,747 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:43,747 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:43,747 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:43,747 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:43,747 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:53:43,747 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:53:43,748 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:53:44,717 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:44,717 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:44,779 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:44,780 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:44,815 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:44,816 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:44,952 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:53:44,952 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:53:44,952 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:53:44,956 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:53:44,956 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone set by Apple CEO Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which represents a 4% increase from the previous year. Additionally, Cook's mention of contributing to relief efforts for the wildfires in Los Angeles and supporting the local community adds a compassionate and positive outlook to the call."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic as Apple CEO Tim Cook highlighted the company's strong financial performance, with record revenue of $94.9 billion in the Q4 Fiscal Year 2024. Key points such as growth in iPhone sales across all geographic segments and record revenue from Services indicate a positive outlook for the company's future."}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple reported a new revenue record for the June quarter, exceeding expectations with double-digit EPS growth. The company also achieved record revenue in various countries and regions, as well as in services. The unveiling of game-changing updates at the Worldwide Developers Conference further highlights the positive outlook for Apple's future performance."}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': 'The sentiment of the call is optimistic based on the positive financial results reported by Apple for the March quarter, including record revenue of $90.8 billion and an EPS record of $1.53. Tim Cook highlighted revenue records in multiple countries and regions, as well as all-time revenue records in services, indicating strong performance and growth potential for the company.'}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Apple's CEO, Tim Cook. Despite the quarter having one less week compared to the previous year, Apple reported revenue growth of 2% to $119.6 billion, with EPS reaching an all-time record of $2.18, up 16% from the previous year. Tim Cook's remarks and the financial results suggest a strong performance and outlook for the company."}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic. Apple reported a record revenue of $89.5 billion for the September quarter, with strong performance in various countries and iPhone revenue exceeding expectations. The mention of setting records in multiple markets and the positive tone of the speakers indicate a positive outlook for the company's performance."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': 'The sentiment of the call is optimistic based on the positive tone of the speakers and the strong financial performance highlighted by Tim Cook. Apple reported revenue of $81.8 billion for the June quarter, exceeding expectations, with strong results in emerging markets and record revenue in various countries. The mention of setting all-time revenue records in Services also contributes to the overall optimistic outlook.'}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone of the speakers, highlighted by Tim Cook's remarks on reporting revenue exceeding expectations, setting all-time records for Services and iPhone sales, and achieving strong performance in emerging markets. The mention of setting records in various countries further supports the optimistic outlook for Apple's Q2 fiscal year 2023 earnings."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported revenue of $117.2 billion for the December quarter, setting all-time revenue records in several markets. Despite a challenging environment, the company highlighted positive achievements and growth in various regions, indicating a strong performance.'}]
2025-04-22 20:53:44,970 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:53:44,972 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:53:44,973 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:53:44,974 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:53:44,974 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:53:44,974 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:53:44,974 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:53:44,974 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:53:44,974 - __main__ - INFO - Starting backtest execution
2025-04-22 20:53:44,974 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:53:44,974 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:53:44,974 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:53:44,976 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,976 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,976 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,976 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,976 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,976 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,977 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,977 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,977 - __main__ - INFO - Signal generated for 2023-02-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:53:44,977 - backend.app.core.backtest.engine - INFO - Generated 9 buy signals
2025-04-22 20:53:44,982 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The sentiment of the call is optimistic based ...
2023-05-04  optimistic  The sentiment of the call is optimistic based ...
2023-02-02  optimistic  The overall sentiment of the call is optimisti...
2025-04-22 20:53:44,982 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:53:44,982 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:53:44,982 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:53:44,984 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2025-04-22 20:53:44,984 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:53:44,985 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:53:44,985 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 67.08, Price: $149.09
2025-04-22 20:53:44,985 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:53:44,985 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 67.08 shares × $149.09 = $10000.00
2025-04-22 20:53:44,985 - backend.app.core.backtest.portfolio - INFO - Cash: $90000.00
2025-04-22 20:53:44,985 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:53:44,985 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:53:44,985 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:53:44,985 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 128.00 shares × $164.13 = $21009.36
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Cash: $80000.00
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Position Value: $21009.36
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101009.36
2025-04-22 20:53:44,986 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:53:44,986 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 180.76 shares × $189.52 = $34259.09
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Cash: $70000.00
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Position Value: $34259.09
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104259.09
2025-04-22 20:53:44,986 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:53:44,986 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 237.49 shares × $176.28 = $41864.84
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Cash: $60000.00
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Position Value: $41864.84
2025-04-22 20:53:44,986 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101864.84
2025-04-22 20:53:44,987 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:53:44,987 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:53:44,987 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:53:44,987 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 291.33 shares × $185.74 = $54113.14
2025-04-22 20:53:44,987 - backend.app.core.backtest.portfolio - INFO - Cash: $50000.00
2025-04-22 20:53:44,987 - backend.app.core.backtest.portfolio - INFO - Position Value: $54113.14
2025-04-22 20:53:44,987 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104113.14
2025-04-22 20:53:44,987 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:53:44,988 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 349.40 shares × $172.22 = $60172.02
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - Cash: $40000.00
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - Position Value: $60172.02
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100172.02
2025-04-22 20:53:44,988 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:53:44,988 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 395.35 shares × $217.63 = $86038.74
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - Cash: $30000.00
2025-04-22 20:53:44,988 - backend.app.core.backtest.portfolio - INFO - Position Value: $86038.74
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $116038.74
2025-04-22 20:53:44,989 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:53:44,989 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 439.71 shares × $225.41 = $99116.65
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Cash: $20000.00
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Position Value: $99116.65
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $119116.65
2025-04-22 20:53:44,989 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:53:44,989 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 481.85 shares × $237.33 = $114355.86
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Cash: $10000.00
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Position Value: $114355.86
2025-04-22 20:53:44,989 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $124355.86
2025-04-22 20:53:44,989 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:53:44,991 - backend.app.core.backtest.engine - INFO - Total Return: 24.36%
2025-04-22 20:53:44,991 - backend.app.core.backtest.engine - INFO - Number of Trades: 9
2025-04-22 20:53:44,992 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:53:44,992 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 0.24355859819755743, 'sharpe_ratio': 7.266157729296355, 'sortino_ratio': 21.43120436752487, 'max_drawdown': 0.03920107006901263, 'number_of_trades': 9}
2025-04-22 20:53:44,992 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:53:44,992 - __main__ - INFO - Total Return: 24.36%
2025-04-22 20:53:44,992 - __main__ - INFO - Sharpe Ratio: 7.27
2025-04-22 20:53:44,992 - __main__ - INFO - Sortino Ratio: 21.43
2025-04-22 20:53:44,992 - __main__ - INFO - Maximum Drawdown: 3.92%
2025-04-22 20:53:44,992 - __main__ - INFO - Number of Trades: 9
2025-04-22 20:53:44,993 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:53:44,993 - __main__ - INFO - First Trade Date: 2023-02-02
2025-04-22 20:53:44,993 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:53:44,993 - __main__ - INFO - Average Trade Size: $10,216.04
2025-04-22 20:53:44,993 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #1: 2023-02-02 - ENTRY - Price: $149.09 - Qty: 67.07512596288208 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #2: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.925556028437626 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #3: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.764003381804194 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #4: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.7285666714304 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.837304480779224 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #6: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06633504636819 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #7: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.94985242774674 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #8: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Trade #9: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $10000.00
2025-04-22 20:53:44,993 - __main__ - INFO - 
Final portfolio value from trade analysis: $10000.00
2025-04-22 20:53:44,993 - __main__ - INFO - Final portfolio value from results: $124355.86
2025-04-22 20:53:44,993 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:53:44,993 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:53:44,993 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:53:44,994 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:53:46,291 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:53:46,291 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:53:46,291 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:53:46,291 - __main__ - INFO - Strategy Return: 24.36%
2025-04-22 20:53:46,291 - __main__ - INFO - Outperformance: -37.20%
2025-04-22 20:53:46,291 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:53:46,291 - __main__ - INFO - Buy & Hold Final: $161,559.44
2025-04-22 20:53:46,291 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:54:28,307 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:54:28,307 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, percentage_allocation=10.0%, unlimited_capital=False
2025-04-22 20:54:28,307 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:54:28,761 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:54:28,761 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:54:28,761 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:54:28,761 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:54:28,761 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:54:28,761 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:54:28,761 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:54:28,761 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:54:29,187 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:54:29,263 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:54:29,263 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:54:29,365 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:54:29,445 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:54:29,445 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:54:29,544 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:54:29,545 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:54:29,545 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:54:29,582 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:54:29,582 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:54:29,584 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:29,584 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:29,584 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:29,591 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:29,591 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:29,591 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:29,591 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:29,591 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:29,591 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:29,592 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:29,592 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:29,592 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:29,592 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:29,592 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:29,592 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:30,630 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:30,630 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:30,690 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:30,690 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:30,787 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:30,787 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:30,792 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:30,792 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:30,805 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:30,805 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:30,806 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:30,806 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:30,806 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:30,807 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:30,807 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:30,807 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:30,807 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:30,807 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:30,807 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:30,809 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:54:30,809 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:54:30,809 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:54:31,716 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:31,717 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:31,795 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:31,795 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:31,837 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:31,838 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:31,844 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:54:31,844 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:54:31,844 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:54:31,847 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:54:31,847 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone set by Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which was up 4% from the previous year. Additionally, Cook's mention of contributing to relief efforts for the wildfires in Los Angeles and continued support for the local community adds to the optimistic outlook of the call."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported strong financial performance with record revenue in the September quarter, driven by growth in iPhone sales across all geographic segments and a record-setting performance in Services. The positive financial results indicate a healthy business outlook and growth potential for the company.'}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported a new revenue record for the June quarter, exceeding expectations with double-digit EPS growth. The company also highlighted setting quarterly revenue records in multiple countries and regions, as well as achieving an all-time revenue record in services. Additionally, the unveiling of game-changing updates at the Worldwide Developers Conference was mentioned as a positive development.'}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook, Apple's CEO. Apple reported strong revenue of $90.8 billion and an EPS record of $1.53 for the March quarter, setting revenue records in multiple countries and regions. Additionally, they achieved an all-time revenue record in services, indicating growth and potential in various markets."}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results shared by Apple's CEO, Tim Cook. Despite having one less week in the quarter compared to the previous year, Apple reported revenue growth of 2% and an all-time record EPS of $2.18. Tim Cook's introductory remarks highlighted revenue records achieved in multiple countries and regions, indicating strong performance."}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook, such as achieving an all-time revenue record in India, setting September quarter records in multiple countries, and surpassing expectations with iPhone revenue. The mention of setting records in various markets and strong performance indicators suggest a positive outlook for Apple's financial performance."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone of the speakers and the strong financial performance highlighted. Apple's CEO, Tim Cook, reported better-than-expected revenue for the June quarter, with strong results in emerging markets and record revenue in various countries. The mention of setting all-time revenue records in Services also contributes to the optimistic outlook."}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone of the speakers and the key points highlighted in the transcript. Apple reported revenue exceeding expectations, set all-time records for Services and iPhone sales, and achieved strong performance in emerging markets. The mention of setting records in various countries and regions further supports the optimistic outlook for Apple's business performance."}, {'date': '2023-02-02', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the CEO's remarks highlighting all-time revenue records in several markets and quarterly records in others, despite a challenging environment leading to a 5% year-over-year revenue decline. The mention of setting records and positive performance in various regions suggests a positive outlook for Apple's future performance."}]
2025-04-22 20:54:31,862 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:54:31,862 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:54:31,863 - __main__ - INFO - Sentiment distribution: {'optimistic': 9}
2025-04-22 20:54:31,864 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:54:31,864 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:54:31,864 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:54:31,864 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:54:31,864 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:54:31,864 - __main__ - INFO - Starting backtest execution
2025-04-22 20:54:31,864 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:54:31,864 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:54:31,864 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:54:31,865 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,865 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,865 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,865 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,865 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,865 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,866 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,866 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,866 - __main__ - INFO - Signal generated for 2023-02-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:54:31,866 - backend.app.core.backtest.engine - INFO - Generated 9 buy signals
2025-04-22 20:54:31,872 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The overall sentiment of the call is optimisti...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The overall sentiment of the call is optimisti...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The overall sentiment of the call is optimisti...
2023-05-04  optimistic  The overall sentiment of the call is optimisti...
2023-02-02  optimistic  The sentiment of the call is optimistic based ...
2025-04-22 20:54:31,872 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:54:31,872 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:54:31,872 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:54:31,874 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The overall sentiment of the call is optimisti...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The overall sentiment of the call is optimisti...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2025-04-22 20:54:31,874 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:54:31,875 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:54:31,875 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 67.08, Price: $149.09
2025-04-22 20:54:31,875 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:54:31,875 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 67.08 shares × $149.09 = $10000.00
2025-04-22 20:54:31,875 - backend.app.core.backtest.portfolio - INFO - Cash: $90000.00
2025-04-22 20:54:31,875 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:54:31,875 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:54:31,876 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:54:31,876 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $9000.00, Quantity: 54.83, Price: $164.13
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 121.91 shares × $164.13 = $20009.36
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Cash: $81000.00
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Position Value: $20009.36
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101009.36
2025-04-22 20:54:31,876 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:54:31,876 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $8100.00, Quantity: 42.74, Price: $189.52
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 164.65 shares × $189.52 = $31204.41
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Cash: $72900.00
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Position Value: $31204.41
2025-04-22 20:54:31,876 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $104104.41
2025-04-22 20:54:31,877 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:54:31,877 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $7290.00, Quantity: 41.36, Price: $176.28
2025-04-22 20:54:31,877 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:54:31,877 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 206.00 shares × $176.28 = $36313.64
2025-04-22 20:54:31,877 - backend.app.core.backtest.portfolio - INFO - Cash: $65610.00
2025-04-22 20:54:31,877 - backend.app.core.backtest.portfolio - INFO - Position Value: $36313.64
2025-04-22 20:54:31,877 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101923.64
2025-04-22 20:54:31,877 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:54:31,877 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $6561.00, Quantity: 35.32, Price: $185.74
2025-04-22 20:54:31,877 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 241.32 shares × $185.74 = $44824.82
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Cash: $59049.00
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Position Value: $44824.82
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $103873.82
2025-04-22 20:54:31,878 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:54:31,878 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $5904.90, Quantity: 34.29, Price: $172.22
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 275.61 shares × $172.22 = $47465.08
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Cash: $53144.10
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Position Value: $47465.08
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100609.18
2025-04-22 20:54:31,878 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:54:31,878 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $5314.41, Quantity: 24.42, Price: $217.63
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 300.03 shares × $217.63 = $65295.52
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Cash: $47829.69
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Position Value: $65295.52
2025-04-22 20:54:31,878 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $113125.21
2025-04-22 20:54:31,879 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:54:31,879 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $4782.97, Quantity: 21.22, Price: $225.41
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 321.25 shares × $225.41 = $72414.34
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Cash: $43046.72
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Position Value: $72414.34
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $115461.07
2025-04-22 20:54:31,879 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:54:31,879 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $4304.67, Quantity: 18.14, Price: $237.33
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 339.39 shares × $237.33 = $80546.77
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Cash: $38742.05
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Position Value: $80546.77
2025-04-22 20:54:31,879 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $119288.82
2025-04-22 20:54:31,879 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:54:31,880 - backend.app.core.backtest.engine - INFO - Total Return: 19.29%
2025-04-22 20:54:31,880 - backend.app.core.backtest.engine - INFO - Number of Trades: 9
2025-04-22 20:54:31,882 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:54:31,882 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 0.19288817650344825, 'sharpe_ratio': 7.294928373479704, 'sortino_ratio': 20.38921604613009, 'max_drawdown': 0.03357429920649546, 'number_of_trades': 9}
2025-04-22 20:54:31,882 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:54:31,882 - __main__ - INFO - Total Return: 19.29%
2025-04-22 20:54:31,882 - __main__ - INFO - Sharpe Ratio: 7.29
2025-04-22 20:54:31,882 - __main__ - INFO - Sortino Ratio: 20.39
2025-04-22 20:54:31,882 - __main__ - INFO - Maximum Drawdown: 3.36%
2025-04-22 20:54:31,882 - __main__ - INFO - Number of Trades: 9
2025-04-22 20:54:31,882 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:54:31,882 - __main__ - INFO - First Trade Date: 2023-02-02
2025-04-22 20:54:31,882 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:54:31,882 - __main__ - INFO - Average Trade Size: $7,195.69
2025-04-22 20:54:31,882 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #1: 2023-02-02 - ENTRY - Price: $149.09 - Qty: 67.07511909784293 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #2: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 54.833000425593866 - Value: $9000.00 - Portfolio: $81000.00
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #3: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 42.7388427392614 - Value: $8100.00 - Portfolio: $72900.00
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #4: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 41.355125103472766 - Value: $7290.00 - Portfolio: $65610.00
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #5: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 35.32265546983925 - Value: $6561.00 - Portfolio: $59049.00
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #6: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 34.287593219486006 - Value: $5904.90 - Portfolio: $53144.10
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #7: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 24.419635524054154 - Value: $5314.41 - Portfolio: $47829.69
2025-04-22 20:54:31,883 - __main__ - INFO - Trade #8: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 21.218607696548876 - Value: $4782.97 - Portfolio: $43046.72
2025-04-22 20:54:31,884 - __main__ - INFO - Trade #9: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 18.137990250461037 - Value: $4304.67 - Portfolio: $38742.05
2025-04-22 20:54:31,884 - __main__ - INFO - 
Final portfolio value from trade analysis: $38742.05
2025-04-22 20:54:31,884 - __main__ - INFO - Final portfolio value from results: $119288.82
2025-04-22 20:54:31,884 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:54:31,884 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:54:31,884 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:54:31,884 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:54:33,265 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:54:33,267 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:54:33,267 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:54:33,267 - __main__ - INFO - Strategy Return: 19.29%
2025-04-22 20:54:33,267 - __main__ - INFO - Outperformance: -42.27%
2025-04-22 20:54:33,267 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:54:33,267 - __main__ - INFO - Buy & Hold Final: $161,559.44
2025-04-22 20:54:33,267 - __main__ - INFO - Buy & Hold Return: 61.56%
2025-04-22 20:56:01,658 - __main__ - INFO - Starting demo for AAPL
2025-04-22 20:56:01,658 - __main__ - INFO - Parameters: start_year=2023, initial_capital=$100,000.00, position_size=$10,000.00, unlimited_capital=False
2025-04-22 20:56:01,658 - __main__ - INFO - Fetching data for AAPL from 2023
2025-04-22 20:56:02,242 - __main__ - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:56:02,242 - __main__ - INFO - Price data stats: Low=$123.58, High=$258.74, Mean=$193.56
2025-04-22 20:56:02,242 - backend.app.services.sentiment_analyzer - INFO - Starting sentiment analysis for AAPL
2025-04-22 20:56:02,242 - backend.app.services.sentiment_analyzer - INFO - Loading transcripts for AAPL
2025-04-22 20:56:02,242 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:56:02,242 - backend.app.services.fmp - INFO - Fetching transcripts for AAPL from 2023 to 2025
2025-04-22 20:56:02,242 - backend.app.services.fmp - INFO - --------------------------------
2025-04-22 20:56:02,242 - backend.app.services.fmp - INFO - Fetching transcripts for year 2023
2025-04-22 20:56:02,681 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2023 "HTTP/1.1 200 OK"
2025-04-22 20:56:02,759 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2023
2025-04-22 20:56:02,759 - backend.app.services.fmp - INFO - Fetching transcripts for year 2024
2025-04-22 20:56:02,868 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2024 "HTTP/1.1 200 OK"
2025-04-22 20:56:02,946 - backend.app.services.fmp - INFO - Found 4 transcripts for AAPL in 2024
2025-04-22 20:56:02,946 - backend.app.services.fmp - INFO - Fetching transcripts for year 2025
2025-04-22 20:56:03,050 - httpx - INFO - HTTP Request: GET https://financialmodelingprep.com/api/v4/batch_earning_call_transcript/AAPL?apikey=f185a652ef3b647a3c7778007369afcf&year=2025 "HTTP/1.1 200 OK"
2025-04-22 20:56:03,051 - backend.app.services.fmp - INFO - Found 1 transcripts for AAPL in 2025
2025-04-22 20:56:03,051 - backend.app.services.fmp - INFO - Total transcripts found for AAPL: 9
2025-04-22 20:56:03,079 - backend.app.services.sentiment_analyzer - INFO - Loaded 9 transcripts for AAPL
2025-04-22 20:56:03,079 - backend.app.services.sentiment_analyzer - INFO - Starting batch analysis for AAPL
2025-04-22 20:56:03,080 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:03,080 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:03,080 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:03,087 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:03,087 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:03,087 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:03,088 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:04,119 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:04,120 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:04,176 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:04,176 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:04,358 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:04,358 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:04,811 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:04,812 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:04,909 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:04,909 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:04,909 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:04,909 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:04,909 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Starting LLM API call
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Starting LLM request with retries
2025-04-22 20:56:04,910 - backend.app.services.async_llm_client - INFO - Making request to https://api.openai.com/v1/chat/completions
2025-04-22 20:56:05,897 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:05,897 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:06,085 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:06,086 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:06,246 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:06,246 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:06,309 - backend.app.services.async_llm_client - INFO - Successfully received response from LLM API
2025-04-22 20:56:06,309 - backend.app.services.async_llm_client - INFO - LLM request completed successfully
2025-04-22 20:56:06,309 - backend.app.services.sentiment_analyzer - INFO - Completed batch analysis for AAPL
2025-04-22 20:56:06,312 - backend.app.services.sentiment_analyzer - INFO - Analysis complete for AAPL
2025-04-22 20:56:06,312 - __main__ - INFO - Transcript analyses: [{'date': '2025-01-30', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone set by Apple CEO Tim Cook in acknowledging the company's record revenue of $124.3 billion for the December quarter, which was up 4% from a year ago. Additionally, Cook's mention of contributing to relief efforts for the wildfires in the Los Angeles area and continued support for the local community adds to the overall positive outlook of the call."}, {'date': '2024-10-31', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic as Apple reported strong financial performance in Q4 Fiscal Year 2024, with record revenue of $94.9 billion, driven by growth in iPhone sales across all geographic segments and record revenue in Services. The positive financial results indicate a strong performance and growth potential for the company, which likely contributed to the optimistic tone of the call.'}, {'date': '2024-08-01', 'sentiment': 'optimistic', 'summary': 'The overall sentiment of the call is optimistic. Apple reported a new June quarter revenue record, with EPS growing double digits and achieving a record for the quarter. The company also set quarterly revenue records in multiple countries and regions, as well as in services, indicating strong performance and growth across various segments. Additionally, the mention of game-changing updates at the Worldwide Developers Conference suggests continued innovation and positive outlook for the future.'}, {'date': '2024-05-02', 'sentiment': 'optimistic', 'summary': 'The sentiment of the call is optimistic based on the positive tone of the speakers and the strong financial performance reported by Apple for the Q2 Fiscal Year 2024. CEO Tim Cook highlighted record revenue and EPS, setting records in various countries and regions. Additionally, the growth in services revenue and the mention of potential in emerging markets like Indonesia further contribute to the optimistic outlook.'}, {'date': '2024-02-01', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive financial results shared by Apple's CEO, Tim Cook. Despite the quarter having one less week compared to the previous year, Apple reported revenue growth of 2% and an all-time record EPS of $2.18. Tim Cook's introductory remarks highlighted revenue records achieved in multiple countries and regions, indicating strong performance."}, {'date': '2023-11-02', 'sentiment': 'optimistic', 'summary': "The overall sentiment of the call is optimistic based on the positive tone and key points highlighted by Tim Cook, such as achieving an all-time revenue record in India, setting September quarter records in multiple countries, including strong iPhone revenue exceeding expectations, and quarterly records in various markets. The mention of record-breaking performance and revenue growth indicates a positive outlook for Apple's business."}, {'date': '2023-08-03', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone of the speakers and the strong financial performance highlighted. Apple's CEO, Tim Cook, reported revenue exceeding expectations for the June quarter, with strong results in emerging markets and record revenue in various countries. The mention of setting all-time revenue records in Services also contributes to the overall optimistic outlook."}, {'date': '2023-05-04', 'sentiment': 'optimistic', 'summary': "The sentiment of the call is optimistic based on the positive tone of the speakers, highlighted by Tim Cook's remarks on reporting better-than-expected revenue for the March quarter, setting all-time records for Services and iPhone sales. The mention of achieving all-time records in various emerging markets further adds to the optimistic outlook for Apple's performance."}, {'date': '2023-02-02', 'sentiment': 'neutral', 'summary': "The sentiment of the call appears to be neutral. While Apple's CEO, Tim Cook, highlighted setting all-time revenue records in several markets and mentioned positive achievements, such as quarterly records in Brazil and India, he also acknowledged the challenging environment that led to a 5% year-over-year revenue decline. The cautious tone regarding the impact of external factors like the COVID-19 pandemic suggests a balanced outlook."}]
2025-04-22 20:56:06,323 - __main__ - INFO - Sentiment DataFrame columns: ['date', 'sentiment', 'summary']
2025-04-22 20:56:06,323 - __main__ - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:56:06,324 - __main__ - INFO - Sentiment distribution: {'optimistic': 8, 'neutral': 1}
2025-04-22 20:56:06,325 - __main__ - WARNING - No data available for sentiment-price correlation analysis
2025-04-22 20:56:06,325 - backend.app.core.backtest.engine - INFO - 
=== Initializing Backtest Engine ===
2025-04-22 20:56:06,325 - backend.app.core.backtest.engine - INFO - Strategy: EarningsSentimentStrategy
2025-04-22 20:56:06,325 - backend.app.core.backtest.engine - INFO - Unlimited Capital Mode: False
2025-04-22 20:56:06,325 - backend.app.core.backtest.engine - INFO - Initial Capital: $100000.00
2025-04-22 20:56:06,325 - __main__ - INFO - Starting backtest execution
2025-04-22 20:56:06,325 - backend.app.core.backtest.engine - INFO - 
=== Starting Backtest Run ===
2025-04-22 20:56:06,325 - backend.app.core.backtest.engine - INFO - Price data range: 2023-01-03 to 2025-04-22
2025-04-22 20:56:06,325 - backend.app.core.backtest.engine - INFO - Sentiment data range: 2023-02-02 to 2025-01-30
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2025-01-30: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2024-10-31: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2024-08-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2024-05-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2024-02-01: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2023-11-02: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2023-08-03: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2023-05-04: 1 - Price: $N/A, Sentiment: optimistic, Cash: $100,000.00
2025-04-22 20:56:06,326 - __main__ - INFO - Signal generated for 2023-02-02: 0 - Price: $N/A, Sentiment: neutral, Cash: $100,000.00
2025-04-22 20:56:06,326 - backend.app.core.backtest.engine - INFO - Generated 8 buy signals
2025-04-22 20:56:06,332 - backend.app.core.backtest.engine - INFO - Sentiment data:              sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2023-11-02  optimistic  The overall sentiment of the call is optimisti...
2023-08-03  optimistic  The sentiment of the call is optimistic based ...
2023-05-04  optimistic  The sentiment of the call is optimistic based ...
2023-02-02     neutral  The sentiment of the call appears to be neutra...
2025-04-22 20:56:06,332 - backend.app.core.backtest.engine - INFO - Sentiment data columns: ['sentiment', 'summary']
2025-04-22 20:56:06,332 - backend.app.core.backtest.engine - INFO - Sentiment data index: Index([2025-01-30, 2024-10-31, 2024-08-01, 2024-05-02, 2024-02-01, 2023-11-02,
       2023-08-03, 2023-05-04, 2023-02-02],
      dtype='object')
2025-04-22 20:56:06,332 - backend.app.core.backtest.engine - INFO - Sentiment data index type: <class 'datetime.date'>
2025-04-22 20:56:06,333 - backend.app.core.backtest.engine - INFO - Sentiment data sample:
             sentiment                                            summary
2025-01-30  optimistic  The sentiment of the call is optimistic based ...
2024-10-31  optimistic  The overall sentiment of the call is optimisti...
2024-08-01  optimistic  The overall sentiment of the call is optimisti...
2024-05-02  optimistic  The sentiment of the call is optimistic based ...
2024-02-01  optimistic  The overall sentiment of the call is optimisti...
2025-04-22 20:56:06,333 - backend.app.core.backtest.engine - INFO - Processing signals in chronological order (earliest to latest): ['2023-02-02', '2023-05-04', '2023-08-03', '2023-11-02', '2024-02-01', '2024-05-02', '2024-08-01', '2024-10-31', '2025-01-30']
2025-04-22 20:56:06,334 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-02-02 ===
2025-04-22 20:56:06,334 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-02-02) ===
2025-04-22 20:56:06,334 - backend.app.core.backtest.portfolio - INFO - Cash: $100000.00
2025-04-22 20:56:06,334 - backend.app.core.backtest.portfolio - INFO - Position Value: $0.00
2025-04-22 20:56:06,334 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:56:06,334 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-05-04 ===
2025-04-22 20:56:06,335 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 60.93, Price: $164.13
2025-04-22 20:56:06,335 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-05-04) ===
2025-04-22 20:56:06,335 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 60.93 shares × $164.13 = $10000.00
2025-04-22 20:56:06,335 - backend.app.core.backtest.portfolio - INFO - Cash: $90000.00
2025-04-22 20:56:06,335 - backend.app.core.backtest.portfolio - INFO - Position Value: $10000.00
2025-04-22 20:56:06,335 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100000.00
2025-04-22 20:56:06,335 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-08-03 ===
2025-04-22 20:56:06,335 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 52.76, Price: $189.52
2025-04-22 20:56:06,335 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-08-03) ===
2025-04-22 20:56:06,335 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 113.69 shares × $189.52 = $21546.80
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Cash: $80000.00
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Position Value: $21546.80
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101546.80
2025-04-22 20:56:06,336 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2023-11-02 ===
2025-04-22 20:56:06,336 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 56.73, Price: $176.28
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2023-11-02) ===
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 170.42 shares × $176.28 = $30040.97
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Cash: $70000.00
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Position Value: $30040.97
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $100040.97
2025-04-22 20:56:06,336 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-02-01 ===
2025-04-22 20:56:06,336 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 53.84, Price: $185.74
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-02-01) ===
2025-04-22 20:56:06,336 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 224.26 shares × $185.74 = $41654.28
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Cash: $60000.00
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Position Value: $41654.28
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $101654.28
2025-04-22 20:56:06,337 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-05-02 ===
2025-04-22 20:56:06,337 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 58.07, Price: $172.22
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-05-02) ===
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 282.32 shares × $172.22 = $48620.56
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Cash: $50000.00
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Position Value: $48620.56
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $98620.56
2025-04-22 20:56:06,337 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-08-01 ===
2025-04-22 20:56:06,337 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 45.95, Price: $217.63
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-08-01) ===
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 328.27 shares × $217.63 = $71441.28
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Cash: $40000.00
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Position Value: $71441.28
2025-04-22 20:56:06,337 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $111441.28
2025-04-22 20:56:06,338 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2024-10-31 ===
2025-04-22 20:56:06,338 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 44.36, Price: $225.41
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2024-10-31) ===
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 372.63 shares × $225.41 = $83996.98
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Cash: $30000.00
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Position Value: $83996.98
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $113996.98
2025-04-22 20:56:06,338 - backend.app.core.backtest.engine - INFO - 
=== Processing Date: 2025-01-30 ===
2025-04-22 20:56:06,338 - backend.app.core.backtest.engine - INFO - Buy Signal - Size: $10000.00, Quantity: 42.14, Price: $237.33
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - 
=== Updating Portfolio Value (2025-01-30) ===
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Position Value - UNKNOWN: 414.77 shares × $237.33 = $98436.98
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Cash: $20000.00
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Position Value: $98436.98
2025-04-22 20:56:06,338 - backend.app.core.backtest.portfolio - INFO - Total Portfolio Value: $118436.98
2025-04-22 20:56:06,338 - backend.app.core.backtest.engine - INFO - 
=== Calculating Performance Metrics ===
2025-04-22 20:56:06,339 - backend.app.core.backtest.engine - INFO - Total Return: 18.44%
2025-04-22 20:56:06,339 - backend.app.core.backtest.engine - INFO - Number of Trades: 8
2025-04-22 20:56:06,340 - backend.app.core.backtest.engine - INFO - 
=== Backtest Complete ===
2025-04-22 20:56:06,340 - backend.app.core.backtest.engine - INFO - Final Results: {'total_return': 0.18436982407621216, 'sharpe_ratio': 6.814124697711769, 'sortino_ratio': 21.99957491053993, 'max_drawdown': 0.029843543437291453, 'number_of_trades': 8}
2025-04-22 20:56:06,340 - __main__ - INFO - 
=== Backtest Results Summary ===
2025-04-22 20:56:06,341 - __main__ - INFO - Total Return: 18.44%
2025-04-22 20:56:06,341 - __main__ - INFO - Sharpe Ratio: 6.81
2025-04-22 20:56:06,341 - __main__ - INFO - Sortino Ratio: 22.00
2025-04-22 20:56:06,341 - __main__ - INFO - Maximum Drawdown: 2.98%
2025-04-22 20:56:06,341 - __main__ - INFO - Number of Trades: 8
2025-04-22 20:56:06,341 - __main__ - INFO - 
Trade Analysis:
2025-04-22 20:56:06,341 - __main__ - INFO - First Trade Date: 2023-05-04
2025-04-22 20:56:06,341 - __main__ - INFO - Last Trade Date: 2025-01-30
2025-04-22 20:56:06,341 - __main__ - INFO - Average Trade Size: $10,163.61
2025-04-22 20:56:06,341 - __main__ - INFO - 
=== Detailed Trade Analysis ===
2025-04-22 20:56:06,341 - __main__ - INFO - Trade #1: 2023-05-04 - ENTRY - Price: $164.13 - Qty: 60.92555036449257 - Value: $10000.00 - Portfolio: $90000.00
2025-04-22 20:56:06,341 - __main__ - INFO - Trade #2: 2023-08-03 - ENTRY - Price: $189.52 - Qty: 52.76400762991253 - Value: $10000.00 - Portfolio: $80000.00
2025-04-22 20:56:06,341 - __main__ - INFO - Trade #3: 2023-11-02 - ENTRY - Price: $176.28 - Qty: 56.7285666714304 - Value: $10000.00 - Portfolio: $70000.00
2025-04-22 20:56:06,342 - __main__ - INFO - Trade #4: 2024-02-01 - ENTRY - Price: $185.74 - Qty: 53.837304480779224 - Value: $10000.00 - Portfolio: $60000.00
2025-04-22 20:56:06,342 - __main__ - INFO - Trade #5: 2024-05-02 - ENTRY - Price: $172.22 - Qty: 58.06633504636819 - Value: $10000.00 - Portfolio: $50000.00
2025-04-22 20:56:06,342 - __main__ - INFO - Trade #6: 2024-08-01 - ENTRY - Price: $217.63 - Qty: 45.949849206023124 - Value: $10000.00 - Portfolio: $40000.00
2025-04-22 20:56:06,342 - __main__ - INFO - Trade #7: 2024-10-31 - ENTRY - Price: $225.41 - Qty: 44.36283759428271 - Value: $10000.00 - Portfolio: $30000.00
2025-04-22 20:56:06,342 - __main__ - INFO - Trade #8: 2025-01-30 - ENTRY - Price: $237.33 - Qty: 42.13559088614679 - Value: $10000.00 - Portfolio: $20000.00
2025-04-22 20:56:06,342 - __main__ - INFO - 
Final portfolio value from trade analysis: $20000.00
2025-04-22 20:56:06,342 - __main__ - INFO - Final portfolio value from results: $118436.98
2025-04-22 20:56:06,342 - __main__ - INFO - 
=== Strategy Settings ===
2025-04-22 20:56:06,342 - __main__ - INFO - Type: Earnings Call Sentiment
2025-04-22 20:56:06,342 - __main__ - INFO - Entry: On Optimistic Sentiment
2025-04-22 20:56:06,342 - __main__ - INFO - Exit: Hold Position
2025-04-22 20:56:09,099 - __main__ - INFO - Plots saved to backtest_results
2025-04-22 20:56:09,105 - __main__ - INFO - 
=== Market vs Strategy Analysis ===
2025-04-22 20:56:09,106 - __main__ - INFO - Market Return (2023-01-03 to 2025-04-22): 61.56%
2025-04-22 20:56:09,106 - __main__ - INFO - Strategy Return: 18.44%
2025-04-22 20:56:09,106 - __main__ - INFO - Outperformance: -43.12%
2025-04-22 20:56:09,106 - __main__ - INFO - Buy & Hold Initial: $100,000.00
2025-04-22 20:56:09,106 - __main__ - INFO - Buy & Hold Final: $161,559.44
2025-04-22 20:56:09,106 - __main__ - INFO - Buy & Hold Return: 61.56%
